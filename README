Guard-Stat

Guard::Stat - Guard object generator with utilisation meters.

BASIC USAGE

Suppose we have a long-running application making heavy use of closures,
and need to monitor the lifetimes of those. So...

    # in initial section
    use Guard::Stat;
    my $stat = Guard::Stat->new;

    # when running
    my $guard = $stat->guard;
    my $callback = sub {
        $guard->finish("taken route 1");
        # now do useful stuff
    };
    # ... do whatever I need and call $callback eventually

    # in diagnostic procedures started via external event
    my $data = $stat->get_stat;
    warn "$data->{running} instances still running";

METER TABLE

Statistics show numbers of guards for which finish()/DESTROY() were called
in various combinations.

	fin=*	fin=0	fin=1
DEST=*	total+	?	finished+
DEST=0	alive	running	zombie
DEST=1	dead	broken+	complete+

A "+" marks values directly measured by Guard::Stat. All others are derived
from these.

TIME AND LEVELS

The on_level( [-] $n, CODEFER ) method allows to perform certain actions
upon guard count changes.

With want_time => 1, get_times() method would provide a rough statistical
distribution of callback lifetimes.

See perldoc for more.

INSTALLATION

To install this module, run the following commands:

	perl Makefile.PL
	make
	make test
	make install

SUPPORT AND DOCUMENTATION

After installing, you can find documentation for this module with the
perldoc command.

    perldoc Guard::Stat

You can also look for information at:

    RT, CPAN's request tracker (report bugs here)
        http://rt.cpan.org/NoAuth/Bugs.html?Dist=Guard-Stat

    AnnoCPAN, Annotated CPAN documentation
        http://annocpan.org/dist/Guard-Stat

    CPAN Ratings
        http://cpanratings.perl.org/d/Guard-Stat

    Search CPAN
        http://search.cpan.org/dist/Guard-Stat/


LICENSE AND COPYRIGHT

Copyright (C) 2013 Konstantin S. Uvarin

This program is free software; you can redistribute it and/or modify it
under the terms of either: the GNU General Public License as published
by the Free Software Foundation; or the Artistic License.

See http://dev.perl.org/licenses/ for more information.

